
@IsTest
public class ExchangeRateResponse_Test {
	
	// This test method should give 100% coverage
	static testMethod void testParse() {
		String json = '{'+
		'    \"result\": \"success\",'+
		'    \"documentation\": \"https://www.exchangerate-api.com/docs\",'+
		'    \"terms_of_use\": \"https://www.exchangerate-api.com/terms\",'+
		'    \"time_last_update_unix\": 1718150401,'+
		'    \"time_last_update_utc\": \"Wed, 12 Jun 2024 00:00:01 +0000\",'+
		'    \"time_next_update_unix\": 1718236801,'+
		'    \"time_next_update_utc\": \"Thu, 13 Jun 2024 00:00:01 +0000\",'+
		'    \"base_code\": \"USD\",'+
		'    \"conversion_rates\": {'+
		'        \"USD\": 1,'+
		'        \"AED\": 3.6725,'+
		'        \"AFN\": 70.5397,'+
		'        \"ALL\": 93.3606,'+
		'        \"AMD\": 387.6699,'+
		'        \"ANG\": 1.7900,'+
		'        \"AOA\": 863.0378,'+
		'        \"ARS\": 864.7500,'+
		'        \"AUD\": 1.5142,'+
		'        \"AWG\": 1.7900,'+
		'        \"AZN\": 1.7002,'+
		'        \"BAM\": 1.8214,'+
		'        \"BBD\": 2.0000,'+
		'        \"BDT\": 117.5250,'+
		'        \"BGN\": 1.8216,'+
		'        \"BHD\": 0.3760,'+
		'        \"BIF\": 2861.8202,'+
		'        \"BMD\": 1.0000,'+
		'        \"BND\": 1.3532,'+
		'        \"BOB\": 6.9259,'+
		'        \"BRL\": 5.3548,'+
		'        \"BSD\": 1.0000,'+
		'        \"BTN\": 83.5986,'+
		'        \"BWP\": 13.7293,'+
		'        \"BYN\": 3.2702,'+
		'        \"BZD\": 2.0000,'+
		'        \"CAD\": 1.3757,'+
		'        \"CDF\": 2816.3009,'+
		'        \"CHF\": 0.8977,'+
		'        \"CLP\": 921.1484,'+
		'        \"CNY\": 7.2643,'+
		'        \"COP\": 3937.0259,'+
		'        \"CRC\": 531.4900,'+
		'        \"CUP\": 24.0000,'+
		'        \"CVE\": 102.6884,'+
		'        \"CZK\": 23.0260,'+
		'        \"DJF\": 177.7210,'+
		'        \"DKK\": 6.9464,'+
		'        \"DOP\": 59.6923,'+
		'        \"DZD\": 135.0200,'+
		'        \"EGP\": 47.5775,'+
		'        \"ERN\": 15.0000,'+
		'        \"ETB\": 57.6686,'+
		'        \"EUR\": 0.9313,'+
		'        \"FJD\": 2.2446,'+
		'        \"FKP\": 0.7852,'+
		'        \"FOK\": 6.9464,'+
		'        \"GBP\": 0.7852,'+
		'        \"GEL\": 2.8507,'+
		'        \"GGP\": 0.7852,'+
		'        \"GHS\": 15.0371,'+
		'        \"GIP\": 0.7852,'+
		'        \"GMD\": 65.7601,'+
		'        \"GNF\": 8500.6014,'+
		'        \"GTQ\": 7.7718,'+
		'        \"GYD\": 209.3882,'+
		'        \"HKD\": 7.8121,'+
		'        \"HNL\": 24.7240,'+
		'        \"HRK\": 7.0168,'+
		'        \"HTG\": 132.5354,'+
		'        \"HUF\": 367.6416,'+
		'        \"IDR\": 16279.5311,'+
		'        \"ILS\": 3.7178,'+
		'        \"IMP\": 0.7852,'+
		'        \"INR\": 83.6011,'+
		'        \"IQD\": 1310.0213,'+
		'        \"IRR\": 42065.8107,'+
		'        \"ISK\": 139.3171,'+
		'        \"JEP\": 0.7852,'+
		'        \"JMD\": 155.5729,'+
		'        \"JOD\": 0.7090,'+
		'        \"JPY\": 157.1110,'+
		'        \"KES\": 129.2992,'+
		'        \"KGS\": 87.4724,'+
		'        \"KHR\": 4142.0186,'+
		'        \"KID\": 1.5142,'+
		'        \"KMF\": 458.1632,'+
		'        \"KRW\": 1377.3991,'+
		'        \"KWD\": 0.3068,'+
		'        \"KYD\": 0.8333,'+
		'        \"KZT\": 450.7831,'+
		'        \"LAK\": 21766.2930,'+
		'        \"LBP\": 89500.0000,'+
		'        \"LKR\": 303.0583,'+
		'        \"LRD\": 194.7738,'+
		'        \"LSL\": 18.5850,'+
		'        \"LYD\": 4.8688,'+
		'        \"MAD\": 9.9548,'+
		'        \"MDL\": 17.6660,'+
		'        \"MGA\": 4446.9574,'+
		'        \"MKD\": 57.2397,'+
		'        \"MMK\": 2101.2519,'+
		'        \"MNT\": 3369.0139,'+
		'        \"MOP\": 8.0464,'+
		'        \"MRU\": 39.2335,'+
		'        \"MUR\": 46.4209,'+
		'        \"MVR\": 15.4534,'+
		'        \"MWK\": 1742.6743,'+
		'        \"MXN\": 18.5026,'+
		'        \"MYR\": 4.7200,'+
		'        \"MZN\": 63.7907,'+
		'        \"NAD\": 18.5850,'+
		'        \"NGN\": 1492.6764,'+
		'        \"NIO\": 36.8076,'+
		'        \"NOK\": 10.7007,'+
		'        \"NPR\": 133.7577,'+
		'        \"NZD\": 1.6294,'+
		'        \"OMR\": 0.3845,'+
		'        \"PAB\": 1.0000,'+
		'        \"PEN\": 3.7825,'+
		'        \"PGK\": 3.8774,'+
		'        \"PHP\": 58.7537,'+
		'        \"PKR\": 278.5611,'+
		'        \"PLN\": 4.0405,'+
		'        \"PYG\": 7505.0295,'+
		'        \"QAR\": 3.6400,'+
		'        \"RON\": 4.6372,'+
		'        \"RSD\": 109.0042,'+
		'        \"RUB\": 89.1709,'+
		'        \"RWF\": 1312.6291,'+
		'        \"SAR\": 3.7500,'+
		'        \"SBD\": 8.3453,'+
		'        \"SCR\": 13.4990,'+
		'        \"SDG\": 449.0873,'+
		'        \"SEK\": 10.4888,'+
		'        \"SGD\": 1.3532,'+
		'        \"SHP\": 0.7852,'+
		'        \"SLE\": 22.4420,'+
		'        \"SLL\": 22442.0480,'+
		'        \"SOS\": 571.9119,'+
		'        \"SRD\": 31.7313,'+
		'        \"SSP\": 1797.9804,'+
		'        \"STN\": 22.8165,'+
		'        \"SYP\": 12891.3947,'+
		'        \"SZL\": 18.5850,'+
		'        \"THB\": 36.7316,'+
		'        \"TJS\": 10.8136,'+
		'        \"TMT\": 3.5000,'+
		'        \"TND\": 3.1363,'+
		'        \"TTD\": 6.7692,'+
		'        \"TVD\": 1.5142,'+
		'        \"TWD\": 32.3494,'+
		'        \"TZS\": 2616.0634,'+
		'        \"UAH\": 40.4845,'+
		'        \"UGX\": 3773.8911,'+
		'        \"UYU\": 38.8415,'+
		'        \"UZS\": 12694.8959,'+
		'        \"VES\": 36.4385,'+
		'        \"VND\": 25417.6532,'+
		'        \"VUV\": 119.7311,'+
		'        \"WST\": 2.7371,'+
		'        \"XAF\": 610.8843,'+
		'        \"XCD\": 2.7000,'+
		'        \"XDR\": 0.7585,'+
		'        \"XOF\": 610.8843,'+
		'        \"XPF\": 111.1323,'+
		'        \"YER\": 250.4830,'+
		'        \"ZAR\": 18.5839,'+
		'        \"ZMW\": 26.5801,'+
		'        \"ZWL\": 13.4639'+
		'    }'+
		'}';
		ExchangeRateResponse r = ExchangeRateResponse.parse(json);
		System.assert(r != null);
		System.debug(r);

		json = '{\"TestAMissingObject\": { \"TestAMissingArray\": [ { \"TestAMissingProperty\": \"Some Value\" } ] } }';
		ExchangeRateResponse objExchangeRateResponse = new ExchangeRateResponse(System.JSON.createParser(json));
		System.assert(objExchangeRateResponse != null);
		System.assert(objExchangeRateResponse.result == null);
		System.assert(objExchangeRateResponse.documentation == null);
		System.assert(objExchangeRateResponse.terms_of_use == null);
		System.assert(objExchangeRateResponse.time_last_update_unix == null);
		System.assert(objExchangeRateResponse.time_last_update_utc == null);
		System.assert(objExchangeRateResponse.time_next_update_unix == null);
		System.assert(objExchangeRateResponse.time_next_update_utc == null);
		System.assert(objExchangeRateResponse.base_code == null);
		System.assert(objExchangeRateResponse.conversion_rates == null);
	}
}